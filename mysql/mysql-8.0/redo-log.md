# 리두 로그(Redo Log)

리두 로그(Redo Log)는 MySQL의 InnoDB 스토리지 엔진에서 사용하는 중요한 메커니즘 중 하나입니다. 이 로그는 데이터베이스의 내구성(Durability)과 회복력을 보장하는 데 핵심적인 역할을 합니다. 특히, 시스템 장애가 발생했을 때 데이터베이스를 안전한 상태로 복구하는 데 사용됩니다.

#### 리두 로그의 기본 개념

* **목적:** 리두 로그는 데이터베이스 변경 사항(쓰기 작업)을 기록하는 로그 파일입니다. 이 로그를 사용하여 데이터베이스가 비정상적으로 종료된 후에도 마지막 일관된 상태로 복구할 수 있습니다.
* **작동 방식:** InnoDB는 데이터 변경을 먼저 리두 로그에 기록한 다음, 실제 데이터 파일에 변경 사항을 적용합니다. 이 과정을 'Write-Ahead Logging (WAL)'이라고 합니다. 시스템이 실패했을 때, 리두 로그에 기록된 정보를 사용하여 마지막 체크포인트 이후의 모든 변경 사항을 재실행(리두)하여 데이터의 일관성을 유지합니다.

#### 리두 로그의 확장

MySQL 8.0에서는 리두 로그의 크기를 확장할 수 있는 옵션이 제공됩니다. 리두 로그 파일의 크기는 `innodb_log_file_size`와 `innodb_log_files_in_group` 설정을 통해 조정할 수 있습니다. 리두 로그의 총 크기는 이 두 설정 값의 곱으로 결정됩니다.

* **innodb\_log\_file\_size:** 개별 리두 로그 파일의 크기를 설정합니다.
* **innodb\_log\_files\_in\_group:** 로그 그룹 내의 로그 파일 수를 설정합니다.

#### 리두 로그 확장의 중요성

* **성능:** 적절한 크기의 리두 로그는 데이터베이스의 쓰기 성능에 중대한 영향을 미칩니다. 너무 작은 리두 로그는 로그의 자주 회전(rotate)을 초래하여 성능 저하를 일으킬 수 있습니다. 반면, 충분히 큰 리두 로그는 쓰기 작업을 효율적으로 처리할 수 있게 하여 전반적인 성능을 향상시킵니다.
* **복구 시간:** 또한, 리두 로그의 크기는 시스템 장애 후 복구 시간에도 영향을 미칩니다. 적절한 크기의 로그는 복구 프로세스의 속도를 최적화할 수 있습니다.

#### 설정 조정 시 고려 사항

리두 로그 크기를 조정할 때는 시스템의 디스크 용량, 쓰기 부하의 양, 복구 시간 요구 사항 등을 고려해야 합니다. 너무 큰 리두 로그는 불필요한 디스크 공간을 소비하고, 복구 시간을 늘릴 수 있으므로, 시스템의 운영 환경과 요구 사항에 맞게 적절한 크기를 설정하는 것이 중요합니다.

MySQL의 성능과 안정성을 최적화하기 위해서는 리두 로그 설정을 포함한 다양한 InnoDB 파라미터들을 적절히 조정하고 관리하는 것이 필요합니다.
